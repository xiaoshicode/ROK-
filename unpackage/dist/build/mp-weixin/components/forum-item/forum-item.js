(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/forum-item/forum-item"],{"0ff5":function(e,t,i){"use strict";i.r(t);var n=i("760b"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"2b2e":function(e,t,i){},"2b54":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uniDateformat:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(i.bind(null,"ebdb"))},uActionSheet:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(i.bind(null,"2835"))}},o=function(){var e=this,t=e.$createElement,i=(e._self._c,e.giveDefaultAvatar(e.item)),n=e.giveName(e.item),o=e.item.picUrls&&e.item.picUrls.length>0,a=e.item.picUrls.length;e.$mp.data=Object.assign({},{$root:{m0:i,m1:n,g0:o,g1:a}})},a=[]},"487f":function(e,t,i){"use strict";i.r(t);var n=i("2b54"),o=i("0ff5");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("a9ab");var u=i("f0c5"),r=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=r.exports},"760b":function(e,t,i){"use strict";(function(e,n){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(i("07fd")),u=i("f7ea"),r=i("2da8"),s=e.database(),l={name:"forum-item",props:{item:{type:Object,default:function(){return{}}},isLike:Boolean,like_count:Number},data:function(){return{sheetShow:!1,list:[{name:"删除",type:"delete",color:"#F56C6C",disabled:"true"}]}},methods:{giveName:u.giveName,giveDefaultAvatar:u.giveDefaultAvatar,clickLike:function(){if(console.log(this.item),!r.store.hasLogin)return n.showToast({title:"您尚未登录，请登录！",icon:"none"}),void setTimeout((function(){n.reLaunch({url:"/"+a.default.uniIdRouter.loginPage})}),1500);var e=Date.now();if(e-this.timeTemp<1500)n.showToast({title:"操作太频繁，请稍后...",icon:"none"});else{this.timeTemp=e;var t=this.item.like_count;this.item.isLike?t--:t++;var i=!this.item.isLike;this.$emit("update:isLike",i),this.$emit("update:like_count",t),(0,u.likeFun)(this.item._id)}},clickMore:function(){var t=e.getCurrentUserInfo().uid;(t==this.item.user_id[0]._id||this.uniIDHasRole("admin")||this.uniIDHasRole("webmaster"))&&this.list.forEach((function(e){e.disabled=!1})),this.sheetShow=!0},sheetSelect:function(e){this.sheetShow=!1;var t=e.type;console.log(t),"delete"==t&&this.deleteFun()},deleteFun:function(){var e=this;n.showLoading({title:"删除中..."}),s.collection("quanzi_article").doc(this.item._id).update({deleteState:!0}).then((function(t){n.hideLoading(),n.showToast({title:"删除成功",icon:"none"}),e.$emit("deleteEvent",!0)})).catch((function(e){n.hideLoading()}))},onClose:function(){this.sheetShow=!1},clickPicPreview:function(e){n.previewImage({urls:this.item.picUrls,current:e})},goDetail:function(){n.navigateTo({url:"/pages_forum/detail/detail?id="+this.item._id})}}};t.default=l}).call(this,i("a9ff")["default"],i("543d")["default"])},a9ab:function(e,t,i){"use strict";var n=i("2b2e"),o=i.n(n);o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/forum-item/forum-item-create-component',
    {
        'components/forum-item/forum-item-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("487f"))
        })
    },
    [['components/forum-item/forum-item-create-component']]
]);
