(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/comment-item/comment-item"],{3324:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"4913"))},uniDateformat:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(n.bind(null,"ebdb"))}},o=function(){var t=this.$createElement,e=(this._self._c,this.giveDefaultAvatar(this.item)),n=this.giveName(this.item);this.$mp.data=Object.assign({},{$root:{m0:e,m1:n}})},a=[]},"4ec5":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("f7ea"),a=t.database(),u=t.importObject("utilsObj",{customUI:!0}),r={name:"comment-item",data:function(){return{}},props:{item:{type:Object,default:function(){return{}}},childState:{type:Boolean,default:!1},closeBtn:{type:Boolean,default:!1}},methods:{giveName:o.giveName,giveDefaultAvatar:o.giveDefaultAvatar,goReply:function(){this.childState||(i.setStorageSync("replyItem",this.item),i.navigateTo({url:"/pages_forum/reply/reply"}))},delComment:function(){var e=this,n=t.getCurrentUserInfo().uid;n==this.item.user_id[0]._id||this.uniIDHasRole("admin")||this.uniIDHasRole("webmaster")?i.showModal({title:"是否确认删除",success:function(t){t.confirm&&e.removeComment()}}):i.showToast({title:"您的权限不够",icon:"error"})},removeComment:function(){var t=this;a.collection("quanzi_comment").doc(this.item._id).remove().then((function(e){i.showToast({title:"删除成功"}),t.$emit("removeEnv",{id:t.item._id}),t.item.comment_count>0&&u.operation("quanzi_article","comment_count",t.item.article_id,-1)}))}}};e.default=r}).call(this,n("a9ff")["default"],n("543d")["default"])},"741b":function(t,e,n){"use strict";n.r(e);var i=n("3324"),o=n("bec5");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("b30b");var u=n("f0c5"),r=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"acaf4cae",null,!1,i["a"],void 0);e["default"]=r.exports},b30b:function(t,e,n){"use strict";var i=n("f13c"),o=n.n(i);o.a},bec5:function(t,e,n){"use strict";n.r(e);var i=n("4ec5"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},f13c:function(t,e,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/comment-item/comment-item-create-component',
    {
        'components/comment-item/comment-item-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("741b"))
        })
    },
    [['components/comment-item/comment-item-create-component']]
]);
