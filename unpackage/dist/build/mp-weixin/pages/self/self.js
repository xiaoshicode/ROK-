(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/self/self"],{"148f":function(e,t,n){"use strict";n.r(t);var o=n("719c"),i=n("c569");for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);n("1fbd");var a=n("f0c5"),r=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=r.exports},"1df0":function(e,t,n){"use strict";(function(e,o){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=i(n("2eee")),a=i(n("c973")),r=n("2da8"),c=e.database(),s={data:function(){return{totalObj:{artNum:0,likeNum:0}}},onLoad:function(){this.getTotal()},computed:{hasLogin:function(){return r.store.hasLogin},userInfo:function(){return r.store.userInfo}},methods:{getTotal:function(){var e=this;return(0,a.default)(u.default.mark((function t(){var n,o;return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasLogin){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,c.collection("quanzi_article").where("user_id == $cloudEnv_uid").count();case 4:return n=t.sent,e.totalObj.artNum=n.result.total,t.next=8,c.collection("quanzi_article").where("user_id == $cloudEnv_uid").groupBy("user_id").groupField("sum(like_count) as totalScore").get();case 8:o=t.sent,e.totalObj.artNum&&(e.totalObj.likeNum=o.result.data[0].totalScore);case 10:case"end":return t.stop()}}),t)})))()},goFeedBack:function(){if(this.goLoginPage())return!0;o.navigateTo({url:"/uni_modules/uni-feedback/pages/opendb-feedback/opendb-feedback"})},goLikeList:function(){if(this.goLoginPage())return!0;o.navigateTo({url:"/pages_self/quanzi_like/list"})},goArticleList:function(){if(this.goLoginPage())return!0;o.navigateTo({url:"/pages_self/quanzi_article/list"})},goComment:function(){if(this.goLoginPage())return!0;o.showToast({title:"暂未开放！",icon:"none"})},about:function(){if(this.goLoginPage())return!0;o.showToast({title:"暂未开放！",icon:"none"})},toUserInfo:function(){if(this.hasLogin)o.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/userinfo"});else{var e=this.$mp.page.route;o.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd?uniIdRedirectUrl=/"+e})}},logout:function(){if(this.goLoginPage())return!0;o.showModal({title:"是否退出登录?",success:function(e){e.confirm&&r.mutations.logout()}})},goLoginPage:function(){return!this.hasLogin&&(o.showToast({title:"您尚未登录，请登录！",icon:"none"}),!0)}}};t.default=s}).call(this,n("a9ff")["default"],n("543d")["default"])},"1fbd":function(e,t,n){"use strict";var o=n("bc3e"),i=n.n(o);i.a},2980:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("0be4"),n("a9ff");o(n("66fd"));var i=o(n("148f"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"719c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var o={uniDateformat:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(n.bind(null,"ebdb"))}},i=function(){var e=this.$createElement;this._self._c},u=[]},bc3e:function(e,t,n){},c569:function(e,t,n){"use strict";n.r(t);var o=n("1df0"),i=n.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);t["default"]=i.a}},[["2980","common/runtime","common/vendor"]]]);